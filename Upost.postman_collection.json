{
	"info": {
		"_postman_id": "22b6da46-dcbd-4a90-a4cf-7d1ec43f5911",
		"name": "Upost",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "Авторизация",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "PHP-AUTH-USER",
						"value": "test_email@gmail.com",
						"description": "Логин (емейл или телефон)",
						"type": "text"
					},
					{
						"key": "PHP-AUTH-PW",
						"value": "{{password_hash}}",
						"description": "Хеш пароля, результат выполнения md5(md5(password))",
						"type": "text"
					}
				],
				"url": {
					"raw": "{{host}}{{endpoint}}/login",
					"host": [
						"{{host}}{{endpoint}}"
					],
					"path": [
						"login"
					]
				}
			},
			"response": [
				{
					"name": "Login_Success",
					"originalRequest": {
						"method": "POST",
						"header": [
							{
								"key": "PHP-AUTH-USER",
								"value": "test_email@gmail.com",
								"description": "Логин (емейл или телефон)",
								"type": "text"
							},
							{
								"key": "PHP-AUTH-PW",
								"value": "{{password_hash}}",
								"description": "Хеш пароля, результат выполнения md5(md5(password))",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{host}}{{endpoint}}/login",
							"host": [
								"{{host}}{{endpoint}}"
							],
							"path": [
								"login"
							]
						}
					},
					"status": "OK",
					"code": 200,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "Date",
							"value": "Tue, 01 Jun 2021 11:55:30 GMT"
						},
						{
							"key": "Server",
							"value": "Apache/2.4.35 (Win64) OpenSSL/1.1.1i PHP/7.4.16"
						},
						{
							"key": "X-Powered-By",
							"value": "PHP/7.4.16"
						},
						{
							"key": "Cache-Control",
							"value": "no-cache, private"
						},
						{
							"key": "X-RateLimit-Limit",
							"value": "60"
						},
						{
							"key": "X-RateLimit-Remaining",
							"value": "59"
						},
						{
							"key": "Content-Length",
							"value": "49"
						},
						{
							"key": "Keep-Alive",
							"value": "timeout=5, max=100"
						},
						{
							"key": "Connection",
							"value": "Keep-Alive"
						},
						{
							"key": "Content-Type",
							"value": "application/json"
						}
					],
					"cookie": [],
					"body": "{\n    \"status\": 200,\n    \"message\": \"successfully_logged_in\"\n}"
				}
			]
		},
		{
			"name": "Регистрация",
			"request": {
				"method": "POST",
				"header": [],
				"body": {
					"mode": "formdata",
					"formdata": [
						{
							"key": "user_phone",
							"value": "+380680091088",
							"description": "Телефон",
							"type": "text"
						},
						{
							"key": "user_email",
							"value": "test_email5@gmail.com",
							"description": "Емейл",
							"type": "text"
						},
						{
							"key": "user_password",
							"value": "qwerty",
							"description": "Пароль",
							"type": "text"
						},
						{
							"key": "user_password_confirmation",
							"value": "qwerty",
							"description": "Повтор пароля",
							"type": "text"
						}
					]
				},
				"url": {
					"raw": "{{host}}{{endpoint}}/register",
					"host": [
						"{{host}}{{endpoint}}"
					],
					"path": [
						"register"
					]
				}
			},
			"response": [
				{
					"name": "Register_Success",
					"originalRequest": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "user_phone",
									"value": "+380680091088",
									"description": "Телефон",
									"type": "text"
								},
								{
									"key": "user_email",
									"value": "test_email5@gmail.com",
									"description": "Емейл",
									"type": "text"
								},
								{
									"key": "user_password",
									"value": "qwerty",
									"description": "Пароль",
									"type": "text"
								},
								{
									"key": "user_password_confirmation",
									"value": "qwerty",
									"description": "Повтор пароля",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "{{host}}{{endpoint}}/register",
							"host": [
								"{{host}}{{endpoint}}"
							],
							"path": [
								"register"
							]
						}
					},
					"status": "OK",
					"code": 200,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "Date",
							"value": "Tue, 01 Jun 2021 11:56:58 GMT"
						},
						{
							"key": "Server",
							"value": "Apache/2.4.35 (Win64) OpenSSL/1.1.1i PHP/7.4.16"
						},
						{
							"key": "X-Powered-By",
							"value": "PHP/7.4.16"
						},
						{
							"key": "Cache-Control",
							"value": "no-cache, private"
						},
						{
							"key": "X-RateLimit-Limit",
							"value": "60"
						},
						{
							"key": "X-RateLimit-Remaining",
							"value": "59"
						},
						{
							"key": "Content-Length",
							"value": "50"
						},
						{
							"key": "Keep-Alive",
							"value": "timeout=5, max=100"
						},
						{
							"key": "Connection",
							"value": "Keep-Alive"
						},
						{
							"key": "Content-Type",
							"value": "application/json"
						}
					],
					"cookie": [],
					"body": "{\n    \"status\": 200,\n    \"message\": \"successfully_registered\"\n}"
				}
			]
		},
		{
			"name": "Приватный профиль",
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "PHP-AUTH-USER",
						"value": "test_email@gmail.com",
						"type": "text",
						"description": "Логин (емейл или телефон)"
					},
					{
						"key": "PHP-AUTH-PW",
						"value": "{{password_hash}}",
						"type": "text",
						"description": "Хеш пароля, результат выполнения md5(md5(password))"
					}
				],
				"url": {
					"raw": "{{host}}{{endpoint}}/profile",
					"host": [
						"{{host}}{{endpoint}}"
					],
					"path": [
						"profile"
					]
				}
			},
			"response": [
				{
					"name": "Profile_Private",
					"originalRequest": {
						"method": "GET",
						"header": [
							{
								"key": "PHP-AUTH-USER",
								"value": "test_email@gmail.com",
								"type": "text",
								"description": "Логин (емейл или телефон)"
							},
							{
								"key": "PHP-AUTH-PW",
								"value": "{{password_hash}}",
								"type": "text",
								"description": "Хеш пароля, результат выполнения md5(md5(password))"
							}
						],
						"url": {
							"raw": "{{host}}{{endpoint}}/profile",
							"host": [
								"{{host}}{{endpoint}}"
							],
							"path": [
								"profile"
							]
						}
					},
					"status": "OK",
					"code": 200,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "Date",
							"value": "Tue, 01 Jun 2021 11:52:44 GMT"
						},
						{
							"key": "Server",
							"value": "Apache/2.4.35 (Win64) OpenSSL/1.1.1i PHP/7.4.16"
						},
						{
							"key": "X-Powered-By",
							"value": "PHP/7.4.16"
						},
						{
							"key": "Cache-Control",
							"value": "no-cache, private"
						},
						{
							"key": "X-RateLimit-Limit",
							"value": "60"
						},
						{
							"key": "X-RateLimit-Remaining",
							"value": "59"
						},
						{
							"key": "Content-Length",
							"value": "832"
						},
						{
							"key": "Keep-Alive",
							"value": "timeout=5, max=100"
						},
						{
							"key": "Connection",
							"value": "Keep-Alive"
						},
						{
							"key": "Content-Type",
							"value": "application/json"
						}
					],
					"cookie": [],
					"body": "{\n    \"status\": 200,\n    \"result\": {\n        \"user_id\": 1,\n        \"user_phone\": \"+380680091000\",\n        \"user_email\": \"test_email@gmail.com\",\n        \"user_hash\": \"\",\n        \"user_ip\": 0,\n        \"user_name\": \"Artem\",\n        \"user_surname\": \"\",\n        \"user_rating\": \"\",\n        \"user_city\": \"2\",\n        \"user_location\": \"2 ,13\",\n        \"user_status\": \"working\",\n        \"user_card_number\": \"1231-3221-3123-1313\",\n        \"user_card_name\": \"арап пап\",\n        \"user_birthday\": \"09.12.1993\",\n        \"user_gender\": \"Мужской\",\n        \"user_lang\": \"en\",\n        \"user_currency\": \"₽\",\n        \"user_validation\": \"no_valid\",\n        \"user_register_date\": \"2020-09-26\",\n        \"user_role\": \"super_admin\",\n        \"user_photo\": \"\",\n        \"user_favorite_orders\": \"1,5,6,3,7,10\",\n        \"user_favorite_routes\": \"9,8,5,10,30,33,42,46,43,47\",\n        \"user_last_active\": \"2021.04.19 18:14\",\n        \"user_resume\": \"gdsgds\",\n        \"user_messages_viewed\": \"\",\n        \"user_wallet\": \"\",\n        \"user_creator_rating\": 0,\n        \"user_freelancer_rating\": 0\n    }\n}"
				}
			]
		},
		{
			"name": "Публичный профиль",
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "{{host}}{{endpoint}}/profile/1",
					"host": [
						"{{host}}{{endpoint}}"
					],
					"path": [
						"profile",
						"1"
					]
				}
			},
			"response": [
				{
					"name": "Profile_Public",
					"originalRequest": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{host}}{{endpoint}}/profile/1",
							"host": [
								"{{host}}{{endpoint}}"
							],
							"path": [
								"profile",
								"1"
							]
						}
					},
					"status": "OK",
					"code": 200,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "Date",
							"value": "Tue, 01 Jun 2021 11:50:35 GMT"
						},
						{
							"key": "Server",
							"value": "Apache/2.4.35 (Win64) OpenSSL/1.1.1i PHP/7.4.16"
						},
						{
							"key": "X-Powered-By",
							"value": "PHP/7.4.16"
						},
						{
							"key": "Cache-Control",
							"value": "no-cache, private"
						},
						{
							"key": "X-RateLimit-Limit",
							"value": "60"
						},
						{
							"key": "X-RateLimit-Remaining",
							"value": "59"
						},
						{
							"key": "Content-Length",
							"value": "373"
						},
						{
							"key": "Keep-Alive",
							"value": "timeout=5, max=100"
						},
						{
							"key": "Connection",
							"value": "Keep-Alive"
						},
						{
							"key": "Content-Type",
							"value": "application/json"
						}
					],
					"cookie": [],
					"body": "{\n    \"status\": 200,\n    \"result\": {\n        \"user_id\": 1,\n        \"user_name\": \"Artem\",\n        \"user_surname\": \"\",\n        \"user_location\": \"2 ,13\",\n        \"user_register_date\": \"2020-09-26\",\n        \"user_last_active\": \"2021.04.19 18:14\",\n        \"user_status\": \"working\",\n        \"user_birthday\": \"09.12.1993\",\n        \"user_gender\": \"Мужской\",\n        \"user_photo\": \"\",\n        \"user_resume\": \"gdsgds\",\n        \"user_freelancer_rating\": 0,\n        \"user_creator_rating\": 0\n    }\n}"
				}
			]
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"exec": [
					"var CryptoJS = require(\"crypto-js\");",
					"var password = pm.collectionVariables.get('password');",
					"var password_hash = CryptoJS.MD5(CryptoJS.MD5(password).toString()).toString();",
					"postman.setEnvironmentVariable('password_hash', password_hash);"
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		}
	],
	"variable": [
		{
			"key": "host",
			"value": "http://upost.test"
		},
		{
			"key": "endpoint",
			"value": "/api"
		},
		{
			"key": "password",
			"value": "qwer"
		}
	]
}